{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.streamingFetcher = void 0;\nconst axios_1 = __importDefault(require(\"axios\"));\nconst qs_1 = __importDefault(require(\"qs\"));\nconst streamingFetcher = args => __awaiter(void 0, void 0, void 0, function* () {\n  var _a;\n  const headers = {};\n  if (args.body !== undefined) {\n    headers[\"Content-Type\"] = \"application/json\";\n  }\n  if (args.headers != null) {\n    for (const [key, value] of Object.entries(args.headers)) {\n      if (value != null) {\n        headers[key] = value;\n      }\n    }\n  }\n  const response = yield (0, axios_1.default)({\n    url: args.url,\n    params: args.queryParameters,\n    paramsSerializer: params => {\n      return qs_1.default.stringify(params, {\n        arrayFormat: \"repeat\"\n      });\n    },\n    method: args.method,\n    headers,\n    data: args.body,\n    timeout: args.timeoutMs,\n    transitional: {\n      clarifyTimeoutError: true\n    },\n    withCredentials: args.withCredentials,\n    maxBodyLength: Infinity,\n    maxContentLength: Infinity,\n    onUploadProgress: args.onUploadProgress,\n    onDownloadProgress: args.onDownloadProgress,\n    signal: (_a = args.abortController) === null || _a === void 0 ? void 0 : _a.signal,\n    responseType: \"stream\",\n    adapter: args.adapter\n  });\n  return {\n    data: response.data,\n    headers: response.headers\n  };\n});\nexports.streamingFetcher = streamingFetcher;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__importDefault","mod","__esModule","Object","defineProperty","exports","streamingFetcher","axios_1","require","qs_1","args","_a","headers","body","undefined","key","entries","response","default","url","params","queryParameters","paramsSerializer","stringify","arrayFormat","method","data","timeout","timeoutMs","transitional","clarifyTimeoutError","withCredentials","maxBodyLength","Infinity","maxContentLength","onUploadProgress","onDownloadProgress","signal","abortController","responseType","adapter"],"sources":["D:/projects/InterviewCoachWeb/node_modules/cohere-ai/core/streaming-fetcher/StreamingFetcher.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.streamingFetcher = void 0;\nconst axios_1 = __importDefault(require(\"axios\"));\nconst qs_1 = __importDefault(require(\"qs\"));\nconst streamingFetcher = (args) => __awaiter(void 0, void 0, void 0, function* () {\n    var _a;\n    const headers = {};\n    if (args.body !== undefined) {\n        headers[\"Content-Type\"] = \"application/json\";\n    }\n    if (args.headers != null) {\n        for (const [key, value] of Object.entries(args.headers)) {\n            if (value != null) {\n                headers[key] = value;\n            }\n        }\n    }\n    const response = yield (0, axios_1.default)({\n        url: args.url,\n        params: args.queryParameters,\n        paramsSerializer: (params) => {\n            return qs_1.default.stringify(params, { arrayFormat: \"repeat\" });\n        },\n        method: args.method,\n        headers,\n        data: args.body,\n        timeout: args.timeoutMs,\n        transitional: {\n            clarifyTimeoutError: true,\n        },\n        withCredentials: args.withCredentials,\n        maxBodyLength: Infinity,\n        maxContentLength: Infinity,\n        onUploadProgress: args.onUploadProgress,\n        onDownloadProgress: args.onDownloadProgress,\n        signal: (_a = args.abortController) === null || _a === void 0 ? void 0 : _a.signal,\n        responseType: \"stream\",\n        adapter: args.adapter,\n    });\n    return {\n        data: response.data,\n        headers: response.headers,\n    };\n});\nexports.streamingFetcher = streamingFetcher;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}