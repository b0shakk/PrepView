{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.undiscriminatedUnion = void 0;\nconst Schema_1 = require(\"../../Schema\");\nconst maybeSkipValidation_1 = require(\"../../utils/maybeSkipValidation\");\nconst schema_utils_1 = require(\"../schema-utils\");\nfunction undiscriminatedUnion(schemas) {\n  const baseSchema = {\n    parse: (raw, opts) => __awaiter(this, void 0, void 0, function* () {\n      return validateAndTransformUndiscriminatedUnion((schema, opts) => schema.parse(raw, opts), schemas, opts);\n    }),\n    json: (parsed, opts) => __awaiter(this, void 0, void 0, function* () {\n      return validateAndTransformUndiscriminatedUnion((schema, opts) => schema.json(parsed, opts), schemas, opts);\n    }),\n    getType: () => Schema_1.SchemaType.UNDISCRIMINATED_UNION\n  };\n  return Object.assign(Object.assign({}, (0, maybeSkipValidation_1.maybeSkipValidation)(baseSchema)), (0, schema_utils_1.getSchemaUtils)(baseSchema));\n}\nexports.undiscriminatedUnion = undiscriminatedUnion;\nfunction validateAndTransformUndiscriminatedUnion(transform, schemas, opts) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const errors = [];\n    for (const [index, schema] of schemas.entries()) {\n      const transformed = yield transform(schema, Object.assign(Object.assign({}, opts), {\n        skipValidation: false\n      }));\n      if (transformed.ok) {\n        return transformed;\n      } else {\n        for (const error of transformed.errors) {\n          errors.push({\n            path: error.path,\n            message: `[Variant ${index}] ${error.message}`\n          });\n        }\n      }\n    }\n    return {\n      ok: false,\n      errors\n    };\n  });\n}","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","undiscriminatedUnion","Schema_1","require","maybeSkipValidation_1","schema_utils_1","schemas","baseSchema","parse","raw","opts","validateAndTransformUndiscriminatedUnion","schema","json","parsed","getType","SchemaType","UNDISCRIMINATED_UNION","assign","maybeSkipValidation","getSchemaUtils","transform","errors","index","entries","transformed","skipValidation","ok","error","push","path","message"],"sources":["D:/projects/InterviewCoachWeb/node_modules/cohere-ai/core/schemas/builders/undiscriminated-union/undiscriminatedUnion.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.undiscriminatedUnion = void 0;\nconst Schema_1 = require(\"../../Schema\");\nconst maybeSkipValidation_1 = require(\"../../utils/maybeSkipValidation\");\nconst schema_utils_1 = require(\"../schema-utils\");\nfunction undiscriminatedUnion(schemas) {\n    const baseSchema = {\n        parse: (raw, opts) => __awaiter(this, void 0, void 0, function* () {\n            return validateAndTransformUndiscriminatedUnion((schema, opts) => schema.parse(raw, opts), schemas, opts);\n        }),\n        json: (parsed, opts) => __awaiter(this, void 0, void 0, function* () {\n            return validateAndTransformUndiscriminatedUnion((schema, opts) => schema.json(parsed, opts), schemas, opts);\n        }),\n        getType: () => Schema_1.SchemaType.UNDISCRIMINATED_UNION,\n    };\n    return Object.assign(Object.assign({}, (0, maybeSkipValidation_1.maybeSkipValidation)(baseSchema)), (0, schema_utils_1.getSchemaUtils)(baseSchema));\n}\nexports.undiscriminatedUnion = undiscriminatedUnion;\nfunction validateAndTransformUndiscriminatedUnion(transform, schemas, opts) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const errors = [];\n        for (const [index, schema] of schemas.entries()) {\n            const transformed = yield transform(schema, Object.assign(Object.assign({}, opts), { skipValidation: false }));\n            if (transformed.ok) {\n                return transformed;\n            }\n            else {\n                for (const error of transformed.errors) {\n                    errors.push({\n                        path: error.path,\n                        message: `[Variant ${index}] ${error.message}`,\n                    });\n                }\n            }\n        }\n        return {\n            ok: false,\n            errors,\n        };\n    });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}